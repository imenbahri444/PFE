/* ── Tokens ─────────────────────────────────────────────────── */
:root {
  --bg:     #f5f7fb;
  --card:   #ffffff;
  --sub:    #f8fafc;
  --bd:     #e9eef2;
  --bd2:    #e2e8f0;
  --tx:     #1e293b;
  --mu:     #64748b;
  --bl:     #2563eb;
  --bld:    #1d4ed8;
  --gn:     #10b981;
  --am:     #f59e0b;
  --rd:     #ef4444;
  --bc:     #3b82f6;
  --ss:     0 2px 8px rgba(0,0,0,.04);
  --sm:     0 8px 24px rgba(0,0,0,.08);
  --r:      18px;
  --rsm:    10px;
}
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* ── Root ────────────────────────────────────────────────────── */
.bw { padding: 24px; background: var(--bg); min-height: 100vh; max-width: 1600px; margin: 0 auto; }

/* ── Header ─────────────────────────────────────────────────── */
.bh { display: flex; justify-content: space-between; align-items: center; margin-bottom: 22px; }
.bh h1 { font-size: 1.7rem; font-weight: 700; color: var(--tx); }
.bh p  { font-size: 0.88rem; color: var(--mu); margin-top: 3px; }

.btn-new {
  display: flex; align-items: center; gap: 7px;
  padding: 10px 20px;
  background: linear-gradient(135deg, var(--bl), var(--bld));
  color: #fff; border: none; border-radius: 11px;
  font-weight: 600; font-size: 0.88rem; cursor: pointer;
  box-shadow: 0 4px 14px rgba(37,99,235,.25);
  transition: transform .18s, box-shadow .18s;
}
.btn-new:hover { transform: translateY(-2px); box-shadow: 0 8px 22px rgba(37,99,235,.35); }

/* ── Layout ──────────────────────────────────────────────────── */
.bc { display: grid; grid-template-columns: 3fr 1fr; gap: 18px; align-items: start; }
.cal-col { display: flex; flex-direction: column; gap: 12px; }

/* ── Calendar Card ───────────────────────────────────────────── */
.cal-card { background: var(--card); border-radius: var(--r); padding: 18px; box-shadow: var(--ss); border: 1px solid var(--bd); }
.cal-hd   { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
.cal-hd h2 { font-size: 1.05rem; font-weight: 600; color: var(--tx); }
.cal-ctrls { display: flex; gap: 4px; background: #f1f5f9; padding: 3px; border-radius: 9px; }
.vbtn { padding: 5px 13px; border: none; background: transparent; color: var(--mu); border-radius: 7px; cursor: pointer; font-size: 0.8rem; font-weight: 500; transition: background .15s, color .15s; }
.vbtn:hover { background: rgba(255,255,255,.7); color: var(--bl); }
.vbtn.on   { background: var(--card); color: var(--bl); box-shadow: var(--ss); }
.cal-wrap  { border-radius: 10px; overflow: hidden; }

.cal-ev { padding: 2px 5px; height: 100%; overflow: hidden; }
.cal-ev b     { font-size: 0.65rem; font-weight: 700; color: var(--tx); display: block; }
.cal-ev span  { font-size: 0.7rem; font-weight: 500; color: var(--tx); display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.cal-ev small { font-size: 0.6rem; color: var(--mu); display: block; }

/* ── Legend ──────────────────────────────────────────────────── */
.legend { background: var(--card); border-radius: 12px; padding: 12px 18px; display: flex; gap: 20px; border: 1px solid var(--bd); }
.legend-item { display: flex; align-items: center; gap: 7px; font-size: 0.8rem; color: var(--tx); }
.ldot { width: 9px; height: 9px; border-radius: 50%; display: inline-block; flex-shrink: 0; }

/* ── Avatar ──────────────────────────────────────────────────── */
.av { border-radius: 50%; background: linear-gradient(135deg, var(--bl), var(--bld)); color: #fff; font-weight: 700; display: grid; place-items: center; flex-shrink: 0; }
.av-md { width: 34px; height: 34px; font-size: 0.8rem; }
.av-sm { width: 22px; height: 22px; font-size: 0.52rem; }

/* ── Booking List Column ─────────────────────────────────────── */
.bl-col {
  background: var(--card);
  border-radius: var(--r);
  padding: 16px;
  box-shadow: var(--ss);
  border: 1px solid var(--bd);
  display: flex;
  flex-direction: column;
  max-height: calc(100vh - 150px);
  overflow: hidden;
  position: sticky;
  top: 20px;
}
.bl-hd { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; padding-bottom: 10px; border-bottom: 1px solid var(--bd2); }
.bl-hd h2 { font-size: 0.95rem; font-weight: 600; color: var(--tx); }
.bl-cnt { background: #f1f5f9; color: var(--mu); padding: 2px 9px; border-radius: 20px; font-size: 0.7rem; font-weight: 600; }
.bl-body { overflow-y: auto; flex: 1; scrollbar-width: thin; scrollbar-color: #cbd5e1 transparent; }

/* ── Booking Item ────────────────────────────────────────────── */
.bi { margin-bottom: 8px; border-radius: 11px; background: var(--sub); border: 1px solid var(--bd2); overflow: hidden; transition: border-color .18s, box-shadow .18s; }
.bi:hover { border-color: var(--bl); box-shadow: 0 2px 10px rgba(37,99,235,.1); }

/* ROW — the key fix: explicit widths, no overflow */
.bi-row {
  display: grid;
  grid-template-columns: 12px 76px 1fr auto;  /* dot | time | info | actions */
  align-items: center;
  gap: 10px;
  padding: 11px 12px;
  cursor: pointer;
}
.bi-row.open { border-bottom: 1px solid var(--bd2); }

.bi-time { display: flex; flex-direction: column; }
.bi-date  { font-size: 0.6rem; color: var(--mu); font-weight: 500; }
.bi-range { font-size: 0.68rem; color: var(--tx); font-weight: 700; line-height: 1.4; }

.bi-info { min-width: 0; }
.bi-info strong { display: block; font-size: 0.8rem; color: var(--tx); font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.bi-room { display: inline-flex; align-items: center; gap: 3px; font-size: 0.6rem; color: var(--bl); background: rgba(37,99,235,.08); padding: 2px 6px; border-radius: 20px; margin-top: 3px; }
.bi-room svg { font-size: 0.55rem; }

/* Actions — fixed width, no wrapping */
.bi-acts { display: flex; align-items: center; gap: 4px; flex-shrink: 0; }
.ib {
  width: 26px; height: 26px;
  border-radius: 6px;
  border: 1px solid var(--bd2);
  background: var(--card);
  color: var(--mu);
  display: grid; place-items: center;
  cursor: pointer;
  font-size: 0.7rem;
  transition: background .15s, color .15s, border-color .15s;
}
.ib-edit:hover   { background: var(--bl); color: #fff; border-color: var(--bl); }
.ib-del:hover    { background: var(--rd); color: #fff; border-color: var(--rd); }
.ib-expand:hover { background: #f1f5f9; color: var(--tx); }

/* ── Expanded ────────────────────────────────────────────────── */
.bi-exp { padding: 12px; background: var(--card); }

.sbadge { display: inline-flex; align-items: center; gap: 5px; padding: 3px 10px; border-radius: 20px; font-size: 0.66rem; font-weight: 600; margin-bottom: 10px; }
.s-completed { background: rgba(16,185,129,.12); color: var(--gn); }
.s-delayed   { background: rgba(245,158,11,.12);  color: var(--am); }
.s-issue     { background: rgba(239,68,68,.12);   color: var(--rd); }
.s-scheduled { background: rgba(59,130,246,.12);  color: var(--bc); }

.sc-btns { display: flex; gap: 5px; margin-bottom: 12px; }
.scb {
  flex: 1; display: flex; align-items: center; justify-content: center; gap: 4px;
  padding: 5px; border: 1px solid var(--bd2); border-radius: 6px;
  background: var(--card); color: var(--mu);
  font-size: 0.6rem; font-weight: 500; cursor: pointer;
  transition: background .12s, color .12s, border-color .12s;
}
.scb svg { font-size: 0.62rem; }
.scb-completed:hover, .scb-completed.on { background: rgba(16,185,129,.1);  color: var(--gn); border-color: var(--gn); }
.scb-delayed:hover,   .scb-delayed.on   { background: rgba(245,158,11,.1); color: var(--am); border-color: var(--am); }
.scb-issue:hover,     .scb-issue.on     { background: rgba(239,68,68,.1);  color: var(--rd); border-color: var(--rd); }

.xs { margin-bottom: 12px; }
.xs label { display: block; font-size: 0.62rem; text-transform: uppercase; letter-spacing: .5px; color: var(--mu); margin-bottom: 6px; font-weight: 600; }
.xs p     { font-size: 0.73rem; color: var(--tx); background: var(--sub); padding: 7px 9px; border-radius: 7px; line-height: 1.45; }

.mod-row { display: flex; align-items: center; gap: 9px; background: var(--sub); padding: 8px 10px; border-radius: 9px; }
.mod-row div { display: flex; flex-direction: column; gap: 1px; }
.mod-row strong { font-size: 0.78rem; color: var(--tx); }
.mod-row span   { font-size: 0.62rem; color: var(--mu); }
.mod-row em     { font-size: 0.58rem; color: var(--bl); font-style: normal; font-weight: 500; }

.att-list { background: var(--sub); border-radius: 9px; padding: 7px 9px; max-height: 96px; overflow-y: auto; display: flex; flex-direction: column; gap: 4px; }
.att-row  { display: flex; justify-content: space-between; align-items: center; font-size: 0.71rem; padding: 3px 0; border-bottom: 1px dashed var(--bd2); }
.att-row:last-child { border-bottom: none; }
.att-row span:first-child { color: var(--tx); font-weight: 500; }
.astat { font-size: 0.57rem; padding: 2px 6px; border-radius: 20px; text-transform: capitalize; }
.astat.s-accepted { background: rgba(16,185,129,.12); color: var(--gn); }
.astat.s-pending  { background: rgba(245,158,11,.12);  color: var(--am); }

.ed-box { background: var(--sub); border-radius: 9px; padding: 10px; }
.ef { margin-bottom: 8px; }
.ef label { display: block; font-size: 0.6rem; text-transform: uppercase; letter-spacing: .4px; color: var(--mu); margin-bottom: 4px; }
.ef textarea { width: 100%; padding: 7px 9px; border: 1px solid var(--bd2); border-radius: 7px; font-size: 0.72rem; font-family: inherit; resize: vertical; background: var(--card); transition: border-color .15s; }
.ef textarea:focus { outline: none; border-color: var(--bl); box-shadow: 0 0 0 3px rgba(37,99,235,.1); }
.ed-acts { display: flex; gap: 7px; }
.btn-save, .btn-cancel {
  flex: 1; display: flex; align-items: center; justify-content: center; gap: 4px;
  padding: 6px; border: none; border-radius: 7px;
  font-size: 0.67rem; font-weight: 600; cursor: pointer; transition: background .13s;
}
.btn-save   { background: var(--bl); color: #fff; }
.btn-save:hover { background: var(--bld); }
.btn-cancel { background: #f1f5f9; color: var(--mu); }
.btn-cancel:hover { background: var(--bd2); }

/* ── Modal ───────────────────────────────────────────────────── */
.overlay { position: fixed; inset: 0; background: rgba(0,0,0,.45); backdrop-filter: blur(4px); display: flex; align-items: center; justify-content: center; z-index: 1000; animation: fi .18s ease; }
@keyframes fi { from { opacity: 0; } to { opacity: 1; } }

.modal { background: var(--card); border-radius: 20px; width: 90%; max-width: 560px; max-height: 90vh; overflow-y: auto; box-shadow: 0 25px 50px rgba(0,0,0,.2); animation: su .22s ease; scrollbar-width: thin; scrollbar-color: #cbd5e1 transparent; }
@keyframes su { from { opacity: 0; transform: translateY(14px); } to { opacity: 1; transform: none; } }

.modal-hd { display: flex; justify-content: space-between; align-items: center; padding: 16px 20px; border-bottom: 1px solid var(--bd2); background: linear-gradient(135deg, var(--sub), var(--card)); border-radius: 20px 20px 0 0; }
.modal-hd h2 { font-size: 1.15rem; font-weight: 700; color: var(--tx); }
.modal-close { width: 32px; height: 32px; border-radius: 8px; border: 1px solid var(--bd2); background: var(--card); color: var(--mu); display: grid; place-items: center; cursor: pointer; transition: background .15s, color .15s; }
.modal-close:hover { background: var(--rd); color: #fff; border-color: var(--rd); }

.modal-body { padding: 18px 20px; }

.time-bar { background: linear-gradient(135deg, var(--bl), var(--bld)); border-radius: 13px; padding: 14px 18px; margin-bottom: 18px; display: flex; gap: 18px; color: #fff; }
.tb-item { display: flex; align-items: center; gap: 10px; flex: 1; }
.tb-item svg { font-size: 1.2rem; opacity: .8; }
.tb-item small  { display: block; font-size: 0.62rem; opacity: .75; text-transform: uppercase; letter-spacing: .4px; margin-bottom: 2px; }
.tb-item strong { display: block; font-size: 0.9rem; font-weight: 600; }

.tabs { display: flex; gap: 4px; margin-bottom: 18px; background: #f1f5f9; padding: 3px; border-radius: 10px; }
.tab { flex: 1; display: flex; align-items: center; justify-content: center; gap: 5px; padding: 8px; border: none; background: transparent; color: var(--mu); border-radius: 7px; cursor: pointer; font-size: 0.8rem; font-weight: 500; transition: background .15s, color .15s; }
.tab:hover { background: rgba(255,255,255,.6); color: var(--bl); }
.tab.on { background: var(--card); color: var(--bl); box-shadow: var(--ss); }

.tab-body { min-height: 280px; }

.fg { margin-bottom: 14px; }
.fg label { display: block; font-size: 0.8rem; font-weight: 500; color: var(--tx); margin-bottom: 6px; }
.fg input, .fg select, .fg textarea {
  width: 100%; padding: 9px 11px; border: 1.5px solid var(--bd2); border-radius: 9px;
  font-size: 0.88rem; font-family: inherit; background: var(--card); color: var(--tx);
  transition: border-color .15s, box-shadow .15s;
}
.fg input:focus, .fg select:focus, .fg textarea:focus { outline: none; border-color: var(--bl); box-shadow: 0 0 0 3px rgba(37,99,235,.1); }

.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

.room-prev { background: var(--sub); border-radius: 9px; padding: 12px; margin-top: 10px; border: 1px solid var(--bd2); }
.room-prev p { font-size: 0.78rem; font-weight: 600; color: var(--tx); margin-bottom: 8px; }
.amenities { display: flex; flex-wrap: wrap; gap: 6px; }
.amenities span { background: var(--card); color: var(--bl); padding: 3px 9px; border-radius: 20px; font-size: 0.7rem; font-weight: 500; border: 1px solid var(--bl); }

.search-wrap { display: flex; align-items: center; gap: 8px; background: var(--sub); border: 1px solid var(--bd2); border-radius: 9px; padding: 0 11px; margin-bottom: 14px; }
.search-wrap svg { color: var(--mu); font-size: 0.8rem; flex-shrink: 0; }
.search-wrap input { flex: 1; padding: 9px 0; border: none; background: transparent; font-size: 0.86rem; }
.search-wrap input:focus { outline: none; }

.sel-att { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 12px; }
.sel-tag { display: flex; align-items: center; gap: 5px; background: rgba(37,99,235,.08); border: 1px solid var(--bl); border-radius: 20px; padding: 3px 9px; font-size: 0.74rem; color: var(--bl); font-weight: 500; }
.sel-tag button { background: none; border: none; color: var(--bl); cursor: pointer; display: grid; place-items: center; font-size: 0.65rem; padding: 1px; }
.sel-tag button:hover { color: var(--rd); }

.ulist { display: flex; flex-direction: column; gap: 6px; max-height: 230px; overflow-y: auto; scrollbar-width: thin; scrollbar-color: #cbd5e1 transparent; }
.urow { display: flex; align-items: center; gap: 9px; padding: 9px 11px; background: var(--sub); border-radius: 9px; border: 1px solid var(--bd2); transition: background .13s; }
.urow:hover { background: #f1f5f9; }
.uinfo { flex: 1; }
.uinfo strong { display: block; font-size: 0.8rem; color: var(--tx); font-weight: 600; }
.uinfo span   { display: block; font-size: 0.67rem; color: var(--mu); }
.uinfo em     { display: block; font-size: 0.62rem; color: var(--bl); font-style: normal; font-weight: 500; }

.add-btn { padding: 4px 12px; border: 1px solid var(--bl); border-radius: 20px; background: var(--card); color: var(--bl); font-size: 0.7rem; font-weight: 500; cursor: pointer; transition: background .13s, color .13s; }
.add-btn:hover:not(:disabled) { background: var(--bl); color: #fff; }
.add-btn.added { background: var(--gn); border-color: var(--gn); color: #fff; }
.add-btn:disabled { opacity: .55; cursor: not-allowed; }

.modal-ft { display: flex; gap: 10px; padding: 14px 20px; border-top: 1px solid var(--bd2); background: var(--sub); border-radius: 0 0 20px 20px; }
.modal-ft .btn-cancel, .modal-ft .btn-create { flex: 1; padding: 10px; border: none; border-radius: 9px; font-weight: 600; font-size: 0.86rem; cursor: pointer; transition: background .13s, transform .13s; }
.modal-ft .btn-cancel { background: #f1f5f9; color: var(--mu); }
.modal-ft .btn-cancel:hover { background: var(--bd2); }
.modal-ft .btn-create { background: var(--bl); color: #fff; }
.modal-ft .btn-create:hover { background: var(--bld); transform: translateY(-1px); }

/* ── Scrollbars ──────────────────────────────────────────────── */
:is(.bl-body,.att-list,.ulist,.modal)::-webkit-scrollbar { width: 4px; }
:is(.bl-body,.att-list,.ulist,.modal)::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }

/* ── Responsive ─────────────────────────────────────────────── */
@media (max-width: 1200px) { .bc { grid-template-columns: 2fr 1fr; } }
@media (max-width: 1024px) { .bc { grid-template-columns: 1fr; } .bl-col { max-height: none; position: static; } }
@media (max-width: 768px) {
  .bw { padding: 14px; }
  .bh, .cal-hd { flex-direction: column; align-items: flex-start; gap: 12px; }
  .legend { flex-wrap: wrap; }
  .time-bar { flex-direction: column; gap: 10px; }
  .form-row { grid-template-columns: 1fr; }
  .modal { width: 95%; }
  .modal-ft { flex-direction: column; }
  .sc-btns { flex-wrap: wrap; }
}